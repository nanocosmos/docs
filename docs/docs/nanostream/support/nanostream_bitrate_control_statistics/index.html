<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>nanostream/support/nanostream_bitrate_control_statistics · nanocosmos Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="# Auto-Adjust Bitrate &amp; Statistics for RTMP"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="nanostream/support/nanostream_bitrate_control_statistics · nanocosmos Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://docs.nanocosmos.de/"/><meta property="og:description" content="# Auto-Adjust Bitrate &amp; Statistics for RTMP"/><meta property="og:image" content="https://docs.nanocosmos.de/img/docusaurus.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://docs.nanocosmos.de/img/docusaurus.png"/><link rel="shortcut icon" href="/img/favicon_nano.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-552140-1', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/js/search.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/nanocosmos_header_logo.png" alt="nanocosmos Documentation"/><h2 class="headerTitleWithLogo">nanocosmos Documentation</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/docs/cloud/cloud_overview" target="_self">nanoStream Cloud</a></li><li class=""><a href="/docs/nanoplayer/nanoplayer_introduction" target="_self">H5Live Player</a></li><li class=""><a href="/docs/webrtc/nanostream_webrtc_introduction" target="_self">nanoStream Webcaster</a></li><li class=""><a href="/docs/nanostream/nanostream" target="_self">nanoStream Apps and SDKs</a></li><li class=""><a href="/docs/samples/samples" target="_self">Samples</a></li><li class=""><a href="/docs/faq/faq_streaming" target="_self">FAQ</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/nanocosmos/docs/tree/master/docs/nanostream/support/nanostream_bitrate_control_statistics.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">nanostream/support/nanostream_bitrate_control_statistics</h1></header><article><div><span><h1><a class="anchor" aria-hidden="true" id="auto-adjust-bitrate--statistics-for-rtmp"></a><a href="#auto-adjust-bitrate--statistics-for-rtmp" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Auto-Adjust Bitrate &amp; Statistics for RTMP</h1>
<h2><a class="anchor" aria-hidden="true" id="general-information"></a><a href="#general-information" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>General Information</h2>
<p>nanoStream 2.0 supports an “Auto Adjust” mode to control the encoded video bitrate to avoid network congestion.
The following modes are available:</p>
<ul>
<li>Automatic Bandwidth Checker to initially set a recommended video bitrate</li>
<li>Dynamic/Adaptive Bitrate Control (ABC) during streaming</li>
<li>The ABC can be controlled automatically by an internal algorithm, or customized by using the plugin <code>OnEvent</code>. Event statistics are gathered by monitoring the tcp traffic on the sender side.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="bandwidth-checker--get-recommended-bitrate"></a><a href="#bandwidth-checker--get-recommended-bitrate" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Bandwidth Checker / Get Recommended Bitrate</h2>
<p>The bandwidth checker estimates the highest possible bitrate for your bandwidth.
Note: please ensure that you have a stable internet connection during the bandwidth tests.</p>
<h2><a class="anchor" aria-hidden="true" id="adaptive-bitrate-control"></a><a href="#adaptive-bitrate-control" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Adaptive Bitrate Control</h2>
<p>Adaptive Bitrate Control additionally compensates dynamic bandwidth changes during streaming.</p>
<ul>
<li>Applications - GUI and browser plugin
There is a checkbox “Adaptive”, respectively “Adaptive Bitrate”, available in both GUI and browser page, which enables the automatic adjustment of the bitrate.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="how-to-use-adaptive-bitrate-control"></a><a href="#how-to-use-adaptive-bitrate-control" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How to use Adaptive Bitrate Control</h3>
<ol>
<li>Select the target bitrate, that is, the bitrate you want to achieve in the best (optimal) possible case (the maximum permitted bitrate)</li>
<li>Set the minimum bitrate. The default of 150kB can be changed (see <a href="/docs/nanostream/support/nanostream_bitrate_control_statistics#advanced_configuration_options">Advanced Configuration Options</a> below).</li>
<li>Make sure the checkbox “Adaptive Bitrate” is checked</li>
<li>Start broadcasting</li>
</ol>
<p><strong>Important</strong>
The bitrate will be adjusted every five seconds if necessary.
To achieve the best possible control of the bitrate, start the GUI or the browser plugin as administrator or as an user with administrative permissions. Otherwise the TCP traffic cannot be monitored and the actual bitrate, which is received on the client side, has to be estimated.</p>
<h2><a class="anchor" aria-hidden="true" id="connection-status-and-network-statistics-send-via-onevent"></a><a href="#connection-status-and-network-statistics-send-via-onevent" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Connection Status and Network Statistics send via OnEvent</h2>
<p>Event notifications sent via <code>OnEvent</code> consist of the event type and a set of key/value pairs containing the event information. Currently there are two types of notifications send via <code>OnEvent</code>: RTMP Connection Status and Network Statistics.</p>
<h3><a class="anchor" aria-hidden="true" id="rtmp-connection-status-event"></a><a href="#rtmp-connection-status-event" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>RTMP Connection Status Event</h3>
<p>Type Id: 11
The connection status has three possible states, Key/Values: connectionStatus/connected, disconnected, reconnecting.
Reconnecting means that the plugin/rtmp client is currently trying to reestablish the connection to the server.</p>
<h3><a class="anchor" aria-hidden="true" id="rtmp-network-statistics-event"></a><a href="#rtmp-network-statistics-event" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>RTMP Network Statistics Event</h3>
<p>Type Id: 10
The tcp traffic statistics are sent as a JSON-Object.
Keys/Values:</p>
<pre><code class="hljs css language-json">{<span class="hljs-attr">"outputBufferSize"</span> : intVal, <span class="hljs-attr">"outputBufferFillness"</span> : intVal, <span class="hljs-attr">"outputBitrateDefault"</span> : intVal, <span class="hljs-attr">"outputBitrateFallback"</span> : intVal, <span class="hljs-attr">"videoBitrate"</span> : intVal, <span class="hljs-attr">"roundTripTime"</span> : intVal}
</code></pre>
<table>
<thead>
<tr><th>Option (Key)</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>outputBufferSize</td><td>the maximum available buffer (in bytes)</td></tr>
<tr><td>outputBufferFillness</td><td>how much if the buffer is used (in bytes)</td></tr>
<tr><td>outputBitrateDefault</td><td>the estimated bitrate with which the packets are sent to the stream URL, this value is estimated by using tcp packet statistics gathered with a tcp sniffer. Only available when running as admin</td></tr>
<tr><td>outputBitrateFallback</td><td>like outputBitrateDefault, but not as accurate; does not use a tcp sniffer, but is always available</td></tr>
<tr><td>videoBitrate</td><td>the bitrate used by the video encoder at the moment</td></tr>
<tr><td>roundTripTime</td><td>the average time in ms, which is needed to receive an acknowledgement for a sent packet</td></tr>
</tbody>
</table>
<p><strong>Note</strong>: If you only want the statistics but no automatic control of the bitrate make sure to uncheck the checkbox “Adpative Bitrate” and check the checkbox “Tcp Sniffing ”. “Adaptive Bitrate” and “Tcp Sniffing” can be activated/deactivated via SetConfig(Option, Value) with the parameters “AutoApplyAdaptiveBitrate”, respectively “UseTcpSniffing” for <code>Option</code> and 0 (off) or 1 (on) for <code>Value</code>.
For more information about how to use the statistics, see the Javascript API and nanoStream.html sample for an example implementation.</p>
<h3><a class="anchor" aria-hidden="true" id="advanced-configuration-options"></a><a href="#advanced-configuration-options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Advanced Configuration Options</h3>
<p>The internal algorithm for ABC can be adjusted by following variables, changed via <code>SetConfig(Option, Value)</code>:</p>
<table>
<thead>
<tr><th>Option</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>NumberOfSamplesToUse</td><td>how many samples from the statistics should be used for adjusting the bitrate, the default value is 5</td></tr>
<tr><td>BufferFillnessLimitIncBitrate</td><td>the maximum allowed buffer fillness percentage for increasing the bitrate. The default value is five percent (0.05), this value should be smaller than or equal to BufferFillnessLimitDecBitrate</td></tr>
<tr><td>BufferFillnessLimitDecBitrate</td><td>The minimum buffer fillness percentage, in which case the bitrate is decreased. The default value is ten percent (0.1), this value should be bigger than or equal to BufferFillnessLimitIncBitrate</td></tr>
<tr><td>DesiredBufferFillness</td><td>The desired buffer fillness percentage, the default value is 7.5 percent (0.075). This value should be between BufferFillnessLimitIncBitrate and BufferFillnessLimitDecBitrate</td></tr>
<tr><td>MinimumBitrate</td><td>This value is the lower limit for the bitrate, the default value is 50Kb (50000)</td></tr>
<tr><td>StartBitrate</td><td>The bitrate used at the start of the broadcast, the default value is 150Kb (150000)</td></tr>
<tr><td>RTTLimitFactor</td><td>the bitrate is only increased, for the round trip</td></tr>
</tbody>
</table>
<h3><a class="anchor" aria-hidden="true" id="how-abc-works"></a><a href="#how-abc-works" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How ABC works</h3>
<p>When broadcasting starts the bitrate is set to the value <code>StartBitrate</code>. The bitrate will be checked and possibly adjusted every few seconds - the number of seconds is specified by the value NumberOfSamplesToUse (if set to five, every five seconds). Depending on the conditions at the moment of ckecking, the bitrate will either be increased, decreased or not changed at all. The bitrate value will neither be changed to a value higher than target bitrate (selected by the user) nor lower than the <code>MinimumBitrate</code>. If an event lowers the available bandwidth, the bitrate will be decreased accordingly. Vice versa, the bitrate will be increased if there is more bandwidth available. It can take a few minutes to reach the maximum bitrate depending on the size of the gap between the user selected target bitrate and the current bitrate.</p>
<h2><a class="anchor" aria-hidden="true" id="adaptive-bitrate-on-ios-and-android"></a><a href="#adaptive-bitrate-on-ios-and-android" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Adaptive Bitrate on iOS and Android</h2>
<p>The ABC for iOS and Android works in a similar way to ABC on Windows.
The stream is started with the user selected target bitrate, which is also the maximum bitrate the ABC will use. Depending on the network conditions the bitrate will be decreased or increased. To determine the network conditions the ABC uses internal buffer and bandwidth measurements. Because encoding segments are used on iOS, the adjustment of the bitrate can take longer than on Windows or Android.
Following settings are available:</p>
<ul>
<li><code>minimumBitrate</code>: the minimum bitrate the ABC should use as lowest bitrate setting, default is 50000 (~50 kb)</li>
<li><code>maxPercentBitrateChange</code>: it does not mean that the bitrate change will be limited to a maximum percent, but that the stream is restarted internally if the bitrate change is greater than the <code>maxPercentBitrateChange</code> value. A low value will lead to many stream restarts, which in turn will lead to dropouts in the stream, default: 50 (50%).
Both, iOS and Android, also allow to adjust the framerate depending on the network conditions. There is an additional setting available for this mode:</li>
<li><code>minimumFramerate</code>: the minimum framerate the ABC should use as lowest framerate settings, default is 15 fps
<a id="abc_modes"></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="abc-modes"></a><a href="#abc-modes" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ABC Modes</h2>
<p>There are two modes available to control the bitrate in case of low bandwidth:</p>
<h3><a class="anchor" aria-hidden="true" id="quality-degrade---adaptivebitratecontrolmodequalitydegrade"></a><a href="#quality-degrade---adaptivebitratecontrolmodequalitydegrade" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Quality Degrade - AdaptiveBitrateControlModeQualityDegrade</h3>
<p>Uses properties:</p>
<ul>
<li>minimumBitrate</li>
<li>maxPercentBitrateChange</li>
</ul>
<p>In case of not enough bandwidth the ABC will decrease the bitrate incrementally. The bitrate will not be reduced under the minimum bitrate value. The framerate remains at the initially set value.
If the bitrate is reduced during one step by an amount larger than the maxPercentBitrateChange value, all buffered data, which was not sent yet, will be discarded. This forces the encoder to continue the stream with new data and prevents it from being stuck with processing old data. This mechanism also prevents the latency from increasing further.
<em>Advantages</em>: keeps framerate at initially set value and supports the smoothness of the video playback.
<em>Disadvantage</em>: the video quality is reduced when the bitrate is reduced</p>
<h3><a class="anchor" aria-hidden="true" id="frame-drop---adaptivebitratecontrolmodeframedrop"></a><a href="#frame-drop---adaptivebitratecontrolmodeframedrop" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Frame Drop - AdaptiveBitrateControlModeFrameDrop.</h3>
<p>Uses properties:</p>
<ul>
<li>minimumBitrate</li>
<li>minimumFramerate</li>
<li>maxPercentBitrateChange</li>
</ul>
<p>Low bandwidth will be compensated by decreasing the framerate. When the bandwidth is too low the framerate will be reduced incrementally by dropping some frames. The bitrate will be reduced as well to fit the adjusted output framerate. The framerate and bitrate will be set lower than the minimum famerate and bitrate. This mechanism is designed to maintain the video image quality by reducing the smoothness of the video playback.
The maxPercentBitrateChange algorithm works exactly the same as described above for AdativBitrateControlModeQualityDegrade.
<em>Advantage</em>: maintains video image quality even with lower bandwidth.
<em>Disadvantage</em>: framerate is reduced for low bandwidth conditions, which leads to a reduced smoothness of the video playback.</p>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 2/2/2021</em></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#general-information">General Information</a></li><li><a href="#bandwidth-checker--get-recommended-bitrate">Bandwidth Checker / Get Recommended Bitrate</a></li><li><a href="#adaptive-bitrate-control">Adaptive Bitrate Control</a><ul class="toc-headings"><li><a href="#how-to-use-adaptive-bitrate-control">How to use Adaptive Bitrate Control</a></li></ul></li><li><a href="#connection-status-and-network-statistics-send-via-onevent">Connection Status and Network Statistics send via OnEvent</a><ul class="toc-headings"><li><a href="#rtmp-connection-status-event">RTMP Connection Status Event</a></li><li><a href="#rtmp-network-statistics-event">RTMP Network Statistics Event</a></li><li><a href="#advanced-configuration-options">Advanced Configuration Options</a></li><li><a href="#how-abc-works">How ABC works</a></li></ul></li><li><a href="#adaptive-bitrate-on-ios-and-android">Adaptive Bitrate on iOS and Android</a></li><li><a href="#abc-modes">ABC Modes</a><ul class="toc-headings"><li><a href="#quality-degrade---adaptivebitratecontrolmodequalitydegrade">Quality Degrade - AdaptiveBitrateControlModeQualityDegrade</a></li><li><a href="#frame-drop---adaptivebitratecontrolmodeframedrop">Frame Drop - AdaptiveBitrateControlModeFrameDrop.</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><div><h5>Contact</h5><a href="https://www.nanocosmos.de/">Homepage</a><a href="https://www.nanocosmos.de/contact">Contact</a><a href="https://www.nanocosmos.de/support">Support</a><a href="https://www.nanocosmos.de/terms">Legal Terms</a></div><div><h5>Products</h5><a href="https://www.nanocosmos.de/cloud">Nanostream Cloud with Bintu.Live</a><a href="https://www.nanocosmos.de/h5live">H5Live Low Latency HTML5-Player</a><a href="https://www.nanocosmos.de/webrtc">nanoStream Webcaster</a><a href="https://www.nanocosmos.de/#nanostream">Nanostream Apps and SDK</a></div><div><h5>More</h5><a href="https://www.nanocosmos.de/blog/">Blog</a><a href="https://twitter.com/nanovideo">Twitter</a><a href="https://www.facebook.com/nanocosmos.net/">Facebook</a><a href="https://www.linkedin.com/company/nanocosmos-gmbh">LinkedIn</a><a href="https://github.com/nanocosmos/docs">GitHub</a><a class="github-button" href="https://github.com/nanocosmos/docs" data-icon="octicon-star" data-count-href="/nanocosmos/docs/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://nanocosmos.de/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/footer_logo.png" alt="nanocosmos GmbH" width="170" height="45"/></a><section class="copyright">Copyright © 2021 nanocosmos GmbH - doc version Tue Feb 02 2021 14:08:04 GMT+0000 (Coordinated Universal Time)</section></footer></div></body></html>