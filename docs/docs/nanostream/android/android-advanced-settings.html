<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>nanostream/android/android-advanced-settings · nanocosmos Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="nanoStream SDK for Android Advanced Settings/Usage"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="nanostream/android/android-advanced-settings · nanocosmos Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://docs.nanocosmos.de/"/><meta property="og:description" content="nanoStream SDK for Android Advanced Settings/Usage"/><meta property="og:image" content="https://docs.nanocosmos.de/img/docusaurus.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://docs.nanocosmos.de/img/docusaurus.png"/><link rel="shortcut icon" href="/img/favicon_nano.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-552140-1', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/js/search.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/nanocosmos_header_logo.png" alt="nanocosmos Documentation"/><h2 class="headerTitleWithLogo">nanocosmos Documentation</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/docs/cloud/cloud_overview" target="_self">nanoStream Cloud</a></li><li class=""><a href="/docs/nanoplayer/nanoplayer_introduction" target="_self">H5Live Player</a></li><li class=""><a href="/docs/webrtc/nanostream_webrtc_introduction" target="_self">nanoStream Webcaster</a></li><li class=""><a href="/docs/nanostream/nanostream" target="_self">nanoStream Apps and SDKs</a></li><li class=""><a href="/docs/samples/samples" target="_self">Samples</a></li><li class=""><a href="/docs/faq/faq_streaming" target="_self">FAQ</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/nanocosmos/docs/tree/master/docs/nanostream/android/android-advanced-settings.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">nanostream/android/android-advanced-settings</h1></header><article><div><span><h1><a class="anchor" aria-hidden="true" id="nanostream-sdk-for-android-advanced-settingsusage"></a><a href="#nanostream-sdk-for-android-advanced-settingsusage" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>nanoStream SDK for Android Advanced Settings/Usage</h1>
<h2><a class="anchor" aria-hidden="true" id="resolution-aspect-ratio-and-orientation"></a><a href="#resolution-aspect-ratio-and-orientation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Resolution, Aspect Ratio and Orientation</h2>
<h3><a class="anchor" aria-hidden="true" id="resolution"></a><a href="#resolution" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Resolution</h3>
<p>Resolution means the native resolution of the camera (input). In the most situations this will be the same for the output. To set the resolution there is a function in the <code>VideoSettings</code> object called <code>setResolution(Resolution res)</code>. If you set a resolution that the device doesn't support, nanoStream will automatically switch to the nearest resolution available on the device. A list of supported resolutions for the current video source can be obtained from <code>getCapabilities().listAvailableVideoResolutions()</code> on the <code>nanoStream</code> object.</p>
<h3><a class="anchor" aria-hidden="true" id="aspect-ratio"></a><a href="#aspect-ratio" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Aspect Ratio</h3>
<p>Aspect ratio means the aspect ratio of the outgoing stream. The aspect ratio determines if the input video needs to be cropped. The aspect ratio can be set through the <code>setAspectRatio(AspectRatio aspectRatio)</code> function on the <code>VideoSettings</code> object.</p>
<h4><a class="anchor" aria-hidden="true" id="supported-aspect-ratios"></a><a href="#supported-aspect-ratios" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Supported Aspect Ratios</h4>
<table>
<thead>
<tr><th style="text-align:left">Aspect Ratio</th><th style="text-align:left">AspectRatio value</th></tr>
</thead>
<tbody>
<tr><td style="text-align:left">Keep Input</td><td style="text-align:left">AspectRatio.RATIO_KEEP_INPUT</td></tr>
<tr><td style="text-align:left">1:1</td><td style="text-align:left">AspectRatio.RATIO_1_1</td></tr>
<tr><td style="text-align:left">4:3</td><td style="text-align:left">AspectRatio.RATIO_4_3</td></tr>
<tr><td style="text-align:left">16:9</td><td style="text-align:left">AspectRatio.RATIO_16_9</td></tr>
<tr><td style="text-align:left">3:4</td><td style="text-align:left">AspectRatio.RATIO_3_4</td></tr>
<tr><td style="text-align:left">9:16</td><td style="text-align:left">AspectRatio.RATIO_9_16</td><td>### Orienta</td><td>The default stream orientation is landscape. If you switch to portrait the resolution will swap width and height, e.g. from 640x480 to 480x640. You can set the stream orientation on the <code>nanoStream</code> object with the <code>setStreamRotation</code> function. The stream orientation needs to be set before starting the stream, it is not possible to switch the orientation during the str</td><td>#### Supported Orientat</td><td>Orientation</td><td>Rotation Value</td></tr>
<tr><td style="text-align:left">:--------------------------------------------------</td><td style="text-align:left">:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</td></tr>
<tr><td style="text-align:left">Landscape</td><td style="text-align:left">Rotation.ROTATION_0</td></tr>
<tr><td style="text-align:left">Portrait</td><td style="text-align:left">Rotation.ROTATION_90</td></tr>
<tr><td style="text-align:left">Landscape Upside Down</td><td style="text-align:left">Rotation.ROTATION_180</td></tr>
<tr><td style="text-align:left">Portrait Upside Down</td><td style="text-align:left">Rotation.ROTATION_270</td></tr>
<tr><td style="text-align:left">_270</td><td style="text-align:left"></td></tr>
<tr><td style="text-align:left">_270</td><td style="text-align:left"></td><td>### Example Combinations of Aspect Ratios and O</td><td>The input resolution is set to 640x480 here. The red rectangle marks up the active area that is included in the outp</td><td>Orientation</td><td>Aspect Ratio</td><td>Stream Area</td></tr>
<tr><td style="text-align:left">:------------------------------------------------</td><td style="text-align:left">:---------------------------------------------------------------------------------------------------------------------</td><td>:--------------------------------------------</td></tr>
<tr><td style="text-align:left">Portrait<sup><a href="#fnAS1">1</a></sup></td><td style="text-align:left">Keep Input</td><td><img src="img/portrait_keep_input.png" alt="Screenshot"></td></tr>
<tr><td style="text-align:left">Portrait<sup><a href="#fnAS1">1</a></sup></td><td style="text-align:left">4:3</td><td><img src="img/portrait_4_3.png" alt="Screenshot"></td></tr>
<tr><td style="text-align:left">Portrait<sup><a href="#fnAS1">1</a></sup></td><td style="text-align:left">3:4</td><td><img src="img/portrait_3_4.png" alt="Screenshot"></td></tr>
<tr><td style="text-align:left">Portrait<sup><a href="#fnAS1">1</a></sup></td><td style="text-align:left">16:9</td><td><img src="img/portrait_16_9.png" alt="Screenshot"></td></tr>
<tr><td style="text-align:left">Portrait<sup><a href="#fnAS1">1</a></sup></td><td style="text-align:left">9:16</td><td><img src="img/portrait_9_16.png" alt="Screenshot"></td></tr>
<tr><td style="text-align:left">Landscape</td><td style="text-align:left">Keep Input</td><td><img src="img/landscape_keep_input.png" alt="Screenshot"></td></tr>
<tr><td style="text-align:left">Landscape</td><td style="text-align:left">4:3</td><td><img src="img/landscape_4_3.png" alt="Screenshot"></td></tr>
<tr><td style="text-align:left">Landscape</td><td style="text-align:left">3:4</td><td><img src="img/landscape_3_4.png" alt="Screenshot"></td></tr>
<tr><td style="text-align:left">Landscape</td><td style="text-align:left">16:9</td><td><img src="img/landscape_16_9.png" alt="Screenshot"></td></tr>
<tr><td style="text-align:left">Landscape</td><td style="text-align:left">9:16</td><td><img src="img/landscape_9_16.png" alt="Screenshot"></td></tr>
<tr><td style="text-align:left">png)</td><td style="text-align:left"></td><td></td></tr>
<tr><td style="text-align:left"></td><td style="text-align:left"></td></tr>
<tr><td style="text-align:left"></td><td style="text-align:left"></td></tr>
</tbody>
</table>
<p>png)       |</p>
<p><a name="fnAS1">1</a>: In this sample APP we crop the preview so it doesn't look ugly, so the stream is actually larger then the preview.</p>
<h3><a class="anchor" aria-hidden="true" id="example"></a><a href="#example" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h3>
<p>If you want to stream with a resolution of 640x360 but your device doesn't supports this resolution, you need to crop the resolution from 640x480 (this resolution is supported by the most devices) to 640x360. This can be done through the aspect ratio, so you need to set the aspect ratio to 16:9 to stream with a resolution of 640x360.</p>
<h3><a class="anchor" aria-hidden="true" id="implementation-example"></a><a href="#implementation-example" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Implementation Example</h3>
<pre><code class="hljs css language-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainActifity</span> </span>{
    ...
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> </span>{
      <span class="hljs-keyword">super</span>.onCreate(savedInstanceState);
      nanoStreamSettings nss = <span class="hljs-keyword">new</span> nanoStreamSettings();
      VideoSettings vs = <span class="hljs-keyword">new</span> VideoSettings();
      ...
      vs.setResolution(<span class="hljs-keyword">new</span> Resolution(<span class="hljs-number">640</span>, <span class="hljs-number">480</span>)); <span class="hljs-comment">// default value</span>
      vs.setAspectRatio(AspectRatio.RATIO_16_9); <span class="hljs-comment">// default value is AspectRatio.KEEP_INPUT</span>
      ...
      streamLib = <span class="hljs-keyword">new</span> nanoStream(nss);
      streaLib.init();

      streamLib.setStreamRotation(Rotation.ROTATION_0); <span class="hljs-comment">// default value</span>
      ...
    }
    ...
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="rotationhelper"></a><a href="#rotationhelper" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>RotationHelper</h2>
<h3><a class="anchor" aria-hidden="true" id="description"></a><a href="#description" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Description</h3>
<p>With the nanoStream SDK 4.3.1 release we added a 'RotationHelper' Class, this Class improves the Rotation handling. The RotationHelper class has two static Methods, 'getDeviceDefaultOrientation(Context context)' and 'getRotation(int orientation, boolean isDefaultOrientationLandscape)'.</p>
<h3><a class="anchor" aria-hidden="true" id="getdevicedefaultorientation"></a><a href="#getdevicedefaultorientation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>getDeviceDefaultOrientation</h3>
<p>The return values are one of the following:</p>
<ul>
<li><a href="https://developer.android.com/reference/android/content/res/Configuration.html#ORIENTATION_LANDSCAPE" title="Configuration.ORIENTATION_LANDSCAPE">Configuration.ORIENTATION_LANDSCAPE</a></li>
<li><a href="https://developer.android.com/reference/android/content/res/Configuration.html#ORIENTATION_PORTRAIT" title="Configuration.ORIENTATION_PORTRAIT">Configuration.ORIENTATION_PORTRAIT</a></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="getrotation"></a><a href="#getrotation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>getRotation</h3>
<h4><a class="anchor" aria-hidden="true" id="parameter"></a><a href="#parameter" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Parameter</h4>
<p>The 'orientation' parameter of the 'getRoation' Method is one of the following:</p>
<ul>
<li><a href="https://developer.android.com/reference/android/content/pm/ActivityInfo.html#SCREEN_ORIENTATION_PORTRAIT" title="ActivityInfo.SCREEN_ORIENTATION_PORTRAIT">ActivityInfo.SCREEN_ORIENTATION_PORTRAIT</a></li>
<li><a href="https://developer.android.com/reference/android/content/pm/ActivityInfo.html#SCREEN_ORIENTATION_LANDSCAPE" title="ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE">ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE</a></li>
<li><a href="https://developer.android.com/reference/android/content/pm/ActivityInfo.html#SCREEN_ORIENTATION_REVERSE_PORTRAIT" title="ActivityInfo.SCREEN_ORIENTATION_REVERSE_PORTRAIT">ActivityInfo.SCREEN_ORIENTATION_REVERSE_PORTRAIT</a></li>
<li><a href="https://developer.android.com/reference/android/content/pm/ActivityInfo.html#SCREEN_ORIENTATION_REVERSE_LANDSCAPE" title="ActivityInfo.SCREEN_ORIENTATION_REVERSE_LANDSCAPE">ActivityInfo.SCREEN_ORIENTATION_REVERSE_LANDSCAPE</a></li>
</ul>
<p>The 'isDefaultOrientationLandscape' parameter is true or false.</p>
<h4><a class="anchor" aria-hidden="true" id="return-values"></a><a href="#return-values" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Return Values</h4>
<p>The return values given from 'RotationHelper.getRoation' can be used as a Parameter for 'setStreamRotation' and 'setPreviewRotation'. is the 'orientation' parameter non of the above described the 'getRotation' Method returns 'null'.</p>
<h3><a class="anchor" aria-hidden="true" id="implementation-example-1"></a><a href="#implementation-example-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Implementation Example</h3>
<pre><code class="hljs css language-java"><span class="hljs-keyword">import</span> net.nanocosmos.nanoStream.streamer.Rotation;
<span class="hljs-keyword">import</span> net.nanocosmos.nanoStream.streamer.RotationHelper;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Activity</span> </span>{
  <span class="hljs-comment">// ...</span>
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">boolean</span> isDefaultOrientationLandscape = <span class="hljs-keyword">false</span>;
  <span class="hljs-keyword">private</span> CustomOrientationEventListener orientation = <span class="hljs-keyword">null</span>;

  <span class="hljs-meta">@Override</span>
  <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> </span>{
    <span class="hljs-keyword">super</span>.onCreate(savedInstanceState);
    <span class="hljs-comment">// ...</span>
    streamLib = <span class="hljs-keyword">new</span> nanoStream(<span class="hljs-comment">/*settings*/</span>);

    isDefaultOrientationLandscape = (RotationHelper.getDeviceDefaultOrientation(<span class="hljs-keyword">this</span>) == android.content.res.Configuration.ORIENTATION_LANDSCAPE);
    orientation = <span class="hljs-keyword">new</span> CustomOrientationEventListener(<span class="hljs-keyword">this</span>, SensorManager.SENSOR_DELAY_UI);
    orientation.enable();
  }

  <span class="hljs-keyword">private</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CustomOrientationEventListener</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">OrientationEventListener</span> </span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> lastScreenOrientation = <span class="hljs-number">0</span>;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">CustomOrientationEventListener</span><span class="hljs-params">(Context context, <span class="hljs-keyword">int</span> rate)</span> </span>{
      <span class="hljs-keyword">super</span>(context, rate);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onOrientationChanged</span><span class="hljs-params">(<span class="hljs-keyword">int</span> orientation)</span> </span>{
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">null</span> != streamLib) {
        <span class="hljs-keyword">if</span>(!streamLib.hasState(nanoStream.EncoderState.RUNNING)) {
          <span class="hljs-keyword">if</span> (isDefaultOrientationLandscape) {
              orientation -= <span class="hljs-number">90</span>;

              <span class="hljs-keyword">if</span> (orientation &lt; <span class="hljs-number">0</span>) {
                  orientation += <span class="hljs-number">360</span>;
              }
          }
          <span class="hljs-keyword">int</span> screenOrientation = -<span class="hljs-number">1</span>;

          <span class="hljs-keyword">if</span> (orientation &gt; <span class="hljs-number">70</span> &amp;&amp; orientation &lt; <span class="hljs-number">110</span>) {
            setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_REVERSE_LANDSCAPE);
            screenOrientation = ActivityInfo.SCREEN_ORIENTATION_REVERSE_LANDSCAPE;
          } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (orientation &gt; <span class="hljs-number">160</span> &amp;&amp; orientation &lt; <span class="hljs-number">200</span>) {
            setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_REVERSE_PORTRAIT);
            screenOrientation = ActivityInfo.SCREEN_ORIENTATION_REVERSE_PORTRAIT;
          } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (orientation &gt; <span class="hljs-number">250</span> &amp;&amp; orientation &lt; <span class="hljs-number">290</span>) {
            setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);
            screenOrientation = ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE;
          } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((orientation &gt; <span class="hljs-number">340</span> &amp;&amp; orientation &lt;= <span class="hljs-number">360</span>) || (orientation &gt;= <span class="hljs-number">0</span> &amp;&amp; orientation &lt; <span class="hljs-number">20</span>)) {
            setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);
            screenOrientation = ActivityInfo.SCREEN_ORIENTATION_PORTRAIT;
          }

          <span class="hljs-keyword">if</span> (screenOrientation != lastScreenOrientation) {
            Rotation rotation = RotationHelper.getRotation(screenOrientation, isDefaultOrientationLandscape);
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">null</span> != rotation) {
              <span class="hljs-keyword">try</span> {
                streamLib.setPreviewRotation(rotation);
                streamLib.setStreamRotation(rotation);
                streamLib.setAspectRatio(videoAspectRatio);
              } <span class="hljs-keyword">catch</span> (IllegalStateException e) {
                Logging.log(Logging.LogLevel.ERROR, TAG, <span class="hljs-string">"Camera rotate failed"</span>, e);
              }
            }
            lastScreenOrientation = screenOrientation;
          }
        }
      }
    }
  }
}
</code></pre>
<p>{!docs/nanostream/android/android_stream_type.md!}</p>
<h2><a class="anchor" aria-hidden="true" id="local-recording"></a><a href="#local-recording" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Local Recording</h2>
<h3><a class="anchor" aria-hidden="true" id="description-1"></a><a href="#description-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Description</h3>
<p>The nanoStream Android SDK supports local file recording on the device in MP4 format. This document describes how to enable and configure nanoStream for local recording.</p>
<h3><a class="anchor" aria-hidden="true" id="steps-to-configure-mp4-recording"></a><a href="#steps-to-configure-mp4-recording" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Steps to configure MP4 recording</h3>
<p>MP4 recording can be configured with two function calls on a nanoStreamSettings object.</p>
<ul>
<li>Enabling MP4 recording: setRecordMp4(boolean)</li>
<li>Setting up the file path: setMp4Path(String)</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="setrecordmp4boolean"></a><a href="#setrecordmp4boolean" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>setRecordMp4(boolean)</h3>
<p>The setRecordMp4 function takes a boolean as parameter to enable/disable the recording function.</p>
<h3><a class="anchor" aria-hidden="true" id="setmp4pathstring"></a><a href="#setmp4pathstring" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>setMp4Path(String)</h3>
<p>The setMp4Path function takes a String as parameter. This string needs to be a valid file path (e.g. /sdcard/test.mp4).
It is recommended to use the getExternalStorageDirectory or getExternalStoragePublicDirectory functions from the
<a href="https://developer.android.com/reference/android/os/Environment.html" title="Android Enviroment">Android Enviroment</a> API, and add a file name to the returned path. Please find the code snippet below as an example.</p>
<h3><a class="anchor" aria-hidden="true" id="android-permission"></a><a href="#android-permission" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Android Permission</h3>
<p>To be able to write to an external file path your Android app needs the following permissions to be added to the app manifest (AndroidMainfest.xml).</p>
<pre><code class="hljs css language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.permission.WRITE_EXTERNAL_STORAGE"</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.permission.STORAGE"</span> /&gt;</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="android-60"></a><a href="#android-60" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Android 6.0</h4>
<p>Due to the new permission handling in Android 6 (M) writing to external directories (DCIM) requires a permission by user. Writing to the applications own data directory (/Android/data/com.companyname.appname/) is not restricted.</p>
<h3><a class="anchor" aria-hidden="true" id="implementation-example-2"></a><a href="#implementation-example-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Implementation Example</h3>
<pre><code class="hljs css language-java">File externalFilePath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM);
File filePath = <span class="hljs-keyword">new</span> File(externalFilePath, <span class="hljs-string">"myMp4File.mp4"</span>);
String mp4FilePath = filePath.getAbsolutePath();

nanoStreamSettings nss = <span class="hljs-keyword">new</span> nanoStreamSettings();
nss.setRecordMp4(<span class="hljs-keyword">true</span>);
nss.setMp4Path(mp4FilePath);
</code></pre>
<p>{!docs/nanostream/android/android_bandwidth_control.md!}</p>
<h2><a class="anchor" aria-hidden="true" id="rtmp-quality-statistics"></a><a href="#rtmp-quality-statistics" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>RTMP Quality Statistics</h2>
<h3><a class="anchor" aria-hidden="true" id="description-2"></a><a href="#description-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Description</h3>
<p>The RTMP Module provides the current RTMP Quality over the 'NanostreamEventListener'. These includes the 'output bit rate', 'buffer fullness', 'bit rate' and 'frame rate'.</p>
<h3><a class="anchor" aria-hidden="true" id="implementation-example-3"></a><a href="#implementation-example-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Implementation Example</h3>
<pre><code class="hljs css language-java">public class MainActivity extends Activity implements NanostreamEventListener {
  private LinearLayout qualityView = null;
    private TextView outputBitrate = null;
    private TextView bufferFullness = null;
    private TextView bitrate = null;
    private TextView framerate = null;

  @Override
  protected void onCreate(Bundle savedInstanceState) {
    qualityView = (LinearLayout) findViewById(R.id.qualityView);
        outputBitrate = (TextView) findViewById(R.id.outputBitrateText);
        bufferFullness = (TextView) findViewById(R.id.bufferfillnessText);
        bitrate = (TextView) findViewById(R.id.bitrateText);
        framerate = (TextView) findViewById(R.id.framerateText);

    // Init nanoStream    
  }

  @Override
    public void onNanostreamEvent(NanostreamEvent event)
    {
        if (event.GetType() == NanostreamEvent.TYPE_RTMP_QUALITY)
        {
            this.runOnUiThread(new ViewQualityRunnable(event));
        }
    }

  private class ViewQualityRunnable implements Runnable
    {
        private NanostreamEvent m_event;
        private DecimalFormat format;

        public ViewQualityRunnable(NanostreamEvent m_event)
        {
            super();
            this.m_event = m_event;
            format = new DecimalFormat("#0.00");
        }

        @Override
        public void run()
        {
            if (qualityView.getAlpha() == 0 &amp;&amp; m_event.GetParam1() != 0 &amp;&amp; m_event.GetParam2() != 0 &amp;&amp; m_event.GetParam3() != 0 &amp;&amp; m_event.GetParam4() != 0)
            {
                qualityView.setAlpha(0.5f);
            }
            int qualityColor = Color.YELLOW;
            if (m_event.GetParam2() &gt;= 1000)
            {
                qualityColor = Color.rgb(255, 0, 0);
            } else if (m_event.GetParam2() &gt;= 750)
            {
                qualityColor = Color.YELLOW;
            } else if (m_event.GetParam2() &lt;= 750)
            {
                qualityColor = Color.GREEN;
            }

            outputBitrate.setText(Long.toString(m_event.GetParam1() / 1000) + "kbit/s");
            outputBitrate.setTextColor(qualityColor);
            bufferFullness.setText(format.format(((double) m_event.Ge| bufferFullness.               | bitrate.setText(Long.toString(m | framerate.setText(m_event.GetPa | Camera Zoom     | The nanoStream Android SDK supports camera zoom, if the internal camera supports it. Therefor there are a few funct | Function        | Return Type     | returns |
|:------------------------------|:--------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `hasZoom()`                   | `booelan`                       | true if zoom is supported by the video source / device                                                                                                                                                                |
| `getZoomRatios()`             | `List&lt;Integer&gt;`                 | list with of ale zoom ratios                                                                                                                                                                                          |
| `getZoom()`                   | `int`                           | the index of the `List&lt;Integer&gt;` that returned from `getZommRatios()`                                                                                                                                                 |
| `setZoom(int)`                | `int`                           | the new index of the `List&lt;Integer&gt;` that returned from `getZommRatios()`                                                                                                                                             |
| turned from `getZommRatios()` |                                 |                                                                                                                                                                                                                       |
|                               |                                 |                                                                                                                                                                                                                       |
| turned from `getZommRatios()` |                                 |                                                                                                                                                                                                                       |
|                               |                                 |                                                                                                                                                                                                                       |
|                               |                                 |                                                                                                                                                                                                                       |
| turned from `getZommRatios()` |                                 |                                                                                                                                                                                                                       |
|                               |                                 |                                                                                                                                                                                                                       |
                          |

|
|
turned from `getZommRatios()` |

It is recommended to use `pinch to zoom`, therefor you need to implement a `ScaleGestureDetector.SimpleOnScaleGestureListener`, and a `pinch2zoom` function, that takes the `scalefactor` from the `SimpleOnScaleGestureListener` as a int parameter, take a look at the [Implementation Example](#implementation_example_7).

### getZoomRatios()

`getZoomRatios()` returns a List of Integer values, this values are the zoom ratios in 1/100 increments (e.g. a zoom of 3.2x is returned as 320).

### setZoom(int)

The int parameter from `setZoom(int zoom)` is the index of zoom ratios that returns `getZoomRatios()`.

### Zoom Behavior on Camera Switch

During a camera switch (e.g. from back to front) the zoom remains unaffected.

### Implementation Example

```java
public class MainActivity extends Activity {
  private ScaleGestureDetector scaleGestureDetector;
  private List&lt;Integer&gt; mZoomRatios = null;

  private nanoStream streamLib = null;

  @Override
  protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    nanoStreamSettings nss = new nanoStreamSettings();
    // configure nanoStreamSettings

    streamLib = new nanoStream(nss);

    if(streamLib.hasZoom()) {
      mZoomRatios = streamLib.getZoomRatio();
    }

    if(null == scaleGestureDetector) {
      scaleGestureDetector = new ScaleGestureDetector(this, new ScaleGestureListener());
    }
  }

  @Override
  public boolean onTouchEvent(MotionEvent event)
  {
    if (scaleGestureDetector != null)
    {
      scaleGestureDetector.onTouchEvent(event);
    }
    return true;
  }

  private class ScaleGestureListener extends ScaleGestureDetector.SimpleOnScaleGestureListener {
    @Override
    public boolean onScale(ScaleGestureDetector detector) {
      if(null != streamLib) {
        if (streamLib.hasZoom()) {
          pinch2Zoom(detector.getScaleFactor());
        }
      }
      return true;
    }
  }

  public void pinch2Zoom(float scaleFactor) {
    if (streamLib.hasZoom() &amp;&amp; null != mZoomRatios) {
      int zoomFactor = streamLib.getZoom();
      float zoomRatio = mZoomRatios.get(zoomFactor) / 100f;
      zoomRatio *= scaleFactor;
      if (zoomRatio &gt; 1.0f) {
        if (scaleFactor &gt; 1.0f) {
          for (int i = zoomFactor; i &lt; mZoomRatios.size(); i++) {
            Double zoom = mZoomRatios.get(i) / 100.0;
            if (zoom &gt;= zoomRatio) {
              streamLib.setZoom(i);
              break;
            }
          }
        } else {
          for (int i = zoomFactor; i &gt; 0; i--) {
            Double zoom = mZoomRatios.get(i) / 100.0;
            if (zoom &lt;= zoomRatio) {
              streamLib.setZoom(i);
              break;
            }
          }
        }
      }
    }
  }   
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="camera-focus"></a><a href="#camera-focus" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Camera Focus</h2>
<h3><a class="anchor" aria-hidden="true" id="a-namefocus_descriptiondescriptiona"></a><a href="#a-namefocus_descriptiondescriptiona" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a name="focus_description">Description</a></h3>
<p>The nanoStream Android SDK supports camera focus and focus lock, if the internal cameras supports them. There are two non-blocking functions</p>
<pre><code class="hljs css language-java">setFocusArea(<span class="hljs-keyword">int</span> focusWidth, <span class="hljs-keyword">int</span> focusHeight, <span class="hljs-keyword">float</span> areaMultiple, <span class="hljs-keyword">int</span> x,
    <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">int</span> previewWidth, <span class="hljs-keyword">int</span> previewHeight, <span class="hljs-keyword">int</span> weigh)
setFocusLockArea(<span class="hljs-keyword">int</span> focusWidth, <span class="hljs-keyword">int</span>| <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">int</span> previewWidt              | through the                         | rem                                 | you can attach or remove a FocusCallback listener. To check <span class="hljs-keyword">if</span> your device supports focus call the funct | which will <span class="hljs-keyword">return</span> t                 | Parameter name | meaning |
|:------------------------------------|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| focusWidth                          | the focus Area width                                                                                                                                                                                                                                  |
| focusHeight                         | the focus Area height                                                                                                                                                                                                                                 |
| areaMultiple                        | <span class="hljs-function">a Multiple <span class="hljs-keyword">for</span> the focus <span class="hljs-title">area</span> <span class="hljs-params">(<span class="hljs-keyword">default</span>: <span class="hljs-number">1</span>f)</span>                                                                                                                                                                                                           |
| x                                   | the x position on the Screen                                                                                                                                                                                                                          |
| y                                   | the y position on the Screen                                                                                                                                                                                                                          |
| previewWidth                        | the width of the preview                                                                                                                                                                                                                              |
| previewHeight                       | the height of the preview                                                                                                                                                                                                                             |
| weight                              | the weight of the area must be range from 1 to 1000                                                                                                                                                                                                   |
| e area must be range from 1 to 1000 |                                                                                                                                                                                                                                                       |
|                                     |                                                                                                                                                                                                                                                       |
| e area must be range from 1 to 1000 |                                                                                                                                                                                                                                                       |
|                                     |                                                                                                                                                                                                                                                       |
|                                     |                                                                                                                                                                                                                                                       |
| e area must be range from 1 to 1000 |                                                                                                                                                                                                                                                       |
|                                     |                                                                                                                                                                                                                                                       |
|                                     |                                                                                                                                                                                                                                                       |
|                                     |                                                                                                                                                                                                                                                       |
| e area must be range from 1 to 1000 |                                                                                                                                                                                                                                                       |
                                       |

e area must be range from 1 to 1000 |

### FocusCallback interface

The FocusCallback interface has three <span class="hljs-keyword">abstract</span> functions

```java
<span class="hljs-title">onSuccess</span><span class="hljs-params">()</span>
<span class="hljs-title">onSuccess</span><span class="hljs-params">(Rect rect, Boolean focusLock)</span>
<span class="hljs-title">onFailure</span><span class="hljs-params">()</span>
</span></code></pre>
<h3><a class="anchor" aria-hidden="true" id="implementation-example-4"></a><a href="#implementation-example-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Implementation Example</h3>
<pre><code class="hljs css language-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainActifity</span> <span class="hljs-title">extens</span> <span class="hljs-title">Actifity</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">FocusCallback</span> </span>{
  <span class="hljs-keyword">private</span> GestureDetector gestureDetector;
  <span class="hljs-keyword">private</span> nanoStream streamLib = <span class="hljs-keyword">null</span>;

  <span class="hljs-meta">@Override</span>
  <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> </span>{
    <span class="hljs-keyword">super</span>.onCreate(savedInstanceState);
    streamLib = <span class="hljs-keyword">new</span> nanoStream(<span class="hljs-keyword">new</span> nanoStreamSettings());
    <span class="hljs-keyword">if</span>(streamLib.isFocusSupported()) {
      gestureDetector = <span class="hljs-keyword">new</span> GestureDetector(<span class="hljs-keyword">this</span>, <span class="hljs-keyword">new</span> GestureListener());
    }
    ...
  }

  <span class="hljs-meta">@Override</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">onTouchEvent</span><span class="hljs-params">(MotionEvent event)</span>
  </span>{
    <span class="hljs-keyword">if</span> (gestureDetector != <span class="hljs-keyword">null</span>)
    {
        gestureDetector.onTouchEvent(event);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
  }
  ....
  <span class="hljs-keyword">private</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GestureListener</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">OnGestureListener</span> </span>{
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">onSingleTapUp</span><span class="hljs-params">(MotionEvent e)</span>
    </span>{
      <span class="hljs-keyword">if</span> (streamLib != <span class="hljs-keyword">null</span>)
        {
          streamLib.setFocusArea(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">1f</span>, (<span class="hljs-keyword">int</span>) e.getX(), (<span class="hljs-keyword">int</span>) e.getY(), surface.getWidth(), surface.getHeight(), <span class="hljs-number">1000</span>);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onLongPress</span><span class="hljs-params">(MotionEvent e)</span>
    </span>{
      <span class="hljs-keyword">if</span> (streamLib != <span class="hljs-keyword">null</span>)
      {
        streamLib.setFocusLockArea(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">1f</span>, (<span class="hljs-keyword">int</span>) e.getX(), (<span class="hljs-keyword">int</span>) e.getY(), surface.getWidth(), surface.getHeight(), <span class="hljs-number">1000</span>);
      }
    }
  }

  <span class="hljs-meta">@Override</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(Rect rect, Boolean aBoolean)</span> </span>{
    Log.i(TAG, <span class="hljs-string">"focus success"</span>);
  }

  <span class="hljs-meta">@Override</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailure</span><span class="hljs-params">()</span> </span>{
    Log.i(TAG, <span class="hljs-string">"focus failed"</span>);
  }
}
</code></pre>
<p>{!docs/nanostream/android/android_snapshot.md!}</p>
<p>{!docs/nanostream/android/android_server_authentication.md!}</p>
<h2><a class="anchor" aria-hidden="true" id="deviceproperties"></a><a href="#deviceproperties" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>DeviceProperties</h2>
<p>Before Android 4.3 there was no obligation for Android hardware manufacturers to pass the video related parts of the CTS (Compatibility Test Suite). Therefore some Android 4.1 and 4.2 Devices show non standard behaviour in regard to color format definitions and representation of video frames in memory. This could lead to issues in the video stream like switched red and blue colors, dislocated color components or a green bar at the bottom of the video frame. nanoStream Android now provides the functionality to detect and compensate common issues related to this.</p>
<h3><a class="anchor" aria-hidden="true" id="description-3"></a><a href="#description-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Description</h3>
<p><code>nanoStream.getDeviceProperties()</code> is a static function that is running a test on the device hardware to detect non standard behaviour and returning a DeviceProperties object containing the result.<code>DeviceProperties.getFlags()</code> returns the test result as an integer value that can be stored in the application preferences, to avoid running the device test on every app start. DeviceProperties can be applied to a new nanoStream instance by calling <code>nanoStream.setDeviceProperties(DeviceProperties)</code>. We recommend to call <code>getDeviceProperties()</code> in a background thread during the first app start on a pre 4.3 device, because the call is blocking and might last up to 5 seconds on older/weaker devices. We also recommend to store the OS version in the preferences, to be able to detect OS updates and to eventually rerun the device test or stop setting the DeviceProperties if the new OS is 4.3 or higher.</p>
<h3><a class="anchor" aria-hidden="true" id="implementation-example-5"></a><a href="#implementation-example-5" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Implementation Example</h3>
<pre><code class="hljs css language-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Application</span> </span>{
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> DeviceProperties deviceProp = <span class="hljs-keyword">null</span>;

  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">super</span>.onCreate();

    Thread chkThread = <span class="hljs-keyword">new</span> Thread(<span class="hljs-keyword">new</span> Runnable(){
      <span class="hljs-meta">@Override</span>
      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">try</span> {
          SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(getApplicationContext());
          <span class="hljs-keyword">int</span> curApiVer = android.os.Build.VERSION.SDK_INT;
          <span class="hljs-keyword">int</span> curAppVer = getPackageManager().getPackageInfo(getPackageName(), <span class="hljs-number">0</span>).versionCode;
          <span class="hljs-keyword">int</span> curEncVer = DeviceProperties.VERSION;

          <span class="hljs-keyword">int</span> oldApiVer = prefs.getInt(<span class="hljs-string">"Pref_Android_API"</span>, <span class="hljs-number">0</span>);
          <span class="hljs-keyword">int</span> oldAppVer = prefs.getInt(<span class="hljs-string">"Pref_App_Version"</span>, <span class="hljs-number">0</span>);
          <span class="hljs-keyword">int</span> oldChkVer = prefs.getInt(<span class="hljs-string">"Pref_Check_Version"</span>, <span class="hljs-number">0</span>);
          <span class="hljs-keyword">int</span> oldChkResult = prefs.getInt(<span class="hljs-string">"Pref_Check_Result"</span>, -<span class="hljs-number">1</span>);

          <span class="hljs-keyword">if</span> (((oldApiVer * oldAppVer * oldApiVer) == <span class="hljs-number">0</span>)
          || (oldApiVer &lt; curApiVer)
          || (oldAppVer &lt; curAppVer)
          || (oldChkVer &lt; curEncVer)
          || oldChkResult &lt; <span class="hljs-number">0</span>) {
            Editor edit = prefs.edit();
            edit.putInt(<span class="hljs-string">"Pref_Android_API"</span>, curApiVer);
            edit.putInt(<span class="hljs-string">"Pref_App_Version"</span>, curAppVer);

            <span class="hljs-comment">/* Run  device check */</span>
            <span class="hljs-keyword">try</span> {
              deviceProp = nanoStream.getDeviceProperties();
              edit.putInt(<span class="hljs-string">"Pref_Check_Result"</span>, deviceProp.getFlags());
              edit.putInt(<span class="hljs-string">"Pref_Check_Version"</span>, deviceProp.getVersion());
              edit.commit();
            } <span class="hljs-keyword">catch</span> (RuntimeException e) {
              Log.d(<span class="hljs-string">"Device Check failed"</span>, e.toString());
              edit.putInt(<span class="hljs-string">"Pref_Check_Result"</span>, -<span class="hljs-number">1</span>);
              edit.putInt(<span class="hljs-string">"Pref_Check_Version"</span>, <span class="hljs-number">0</span>);
              edit.commit();
            }
          } <span class="hljs-keyword">else</span> {
            deviceProp = <span class="hljs-keyword">new</span> DeviceProperties(oldChkResult);
          }
            Log.d(<span class="hljs-string">"Device Properties: "</span>, deviceProp.toString());
        } <span class="hljs-keyword">catch</span> (Exception e) {
          Log.d(<span class="hljs-keyword">this</span>.getClass().getName(), <span class="hljs-string">"Device Check Runnable"</span>);
          e.printStackTrace();
        }
      }
    });
    <span class="hljs-keyword">if</span> (android.os.Build.VERSION.SDK_INT &lt; <span class="hljs-number">18</span>) {
      chkThread.start();
    }
        ...
  }

  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> DeviceProperties <span class="hljs-title">getDeviceProperties</span><span class="hljs-params">()</span>
  </span>{
    <span class="hljs-keyword">return</span> deviceProp;
  }
}
</code></pre>
<pre><code class="hljs css language-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Activity</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">NanostreamEventListener</span> </span>{
  ...
  <span class="hljs-meta">@Override</span>
  <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> </span>{
    <span class="hljs-keyword">try</span> {
      nanoStreamSettings nss = <span class="hljs-keyword">new</span> nanoStreamSettings();
      streamLib = <span class="hljs-keyword">new</span> nanoStream(nss);

      DeviceProperties deviceProperties = App.getDeviceProperties();
      <span class="hljs-keyword">if</span>(<span class="hljs-keyword">null</span> != streamLib &amp;&amp; <span class="hljs-keyword">null</span> != deviceProperties) {
        streamLib.setDeviceProperties(deviceProperties);
      }
    } <span class="hljs-keyword">catch</span>(NanostreamException en) {
      Toast.makeText(getApplicationContext(), en.toString(), Toast.LENGTH_LONG).show();
    }
  }
  ...
}

</code></pre>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 2/25/2021</em></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#resolution-aspect-ratio-and-orientation">Resolution, Aspect Ratio and Orientation</a><ul class="toc-headings"><li><a href="#resolution">Resolution</a></li><li><a href="#aspect-ratio">Aspect Ratio</a></li><li><a href="#example">Example</a></li><li><a href="#implementation-example">Implementation Example</a></li></ul></li><li><a href="#rotationhelper">RotationHelper</a><ul class="toc-headings"><li><a href="#description">Description</a></li><li><a href="#getdevicedefaultorientation">getDeviceDefaultOrientation</a></li><li><a href="#getrotation">getRotation</a></li><li><a href="#implementation-example-1">Implementation Example</a></li></ul></li><li><a href="#local-recording">Local Recording</a><ul class="toc-headings"><li><a href="#description-1">Description</a></li><li><a href="#steps-to-configure-mp4-recording">Steps to configure MP4 recording</a></li><li><a href="#setrecordmp4boolean">setRecordMp4(boolean)</a></li><li><a href="#setmp4pathstring">setMp4Path(String)</a></li><li><a href="#android-permission">Android Permission</a></li><li><a href="#implementation-example-2">Implementation Example</a></li></ul></li><li><a href="#rtmp-quality-statistics">RTMP Quality Statistics</a><ul class="toc-headings"><li><a href="#description-2">Description</a></li><li><a href="#implementation-example-3">Implementation Example</a></li></ul></li><li><a href="#camera-focus">Camera Focus</a><ul class="toc-headings"><li><a href="#a-namefocus_descriptiondescriptiona"><a name="focus_description">Description</a></a></li><li><a href="#implementation-example-4">Implementation Example</a></li></ul></li><li><a href="#deviceproperties">DeviceProperties</a><ul class="toc-headings"><li><a href="#description-3">Description</a></li><li><a href="#implementation-example-5">Implementation Example</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><div><h5>Contact</h5><a href="https://www.nanocosmos.de/">Homepage</a><a href="https://www.nanocosmos.de/contact">Contact</a><a href="https://www.nanocosmos.de/support">Support</a><a href="https://www.nanocosmos.de/terms">Legal Terms</a></div><div><h5>Products</h5><a href="https://www.nanocosmos.de/cloud">Nanostream Cloud with Bintu.Live</a><a href="https://www.nanocosmos.de/h5live">H5Live Low Latency HTML5-Player</a><a href="https://www.nanocosmos.de/webrtc">nanoStream Webcaster</a><a href="https://www.nanocosmos.de/#nanostream">Nanostream Apps and SDK</a></div><div><h5>More</h5><a href="https://www.nanocosmos.de/blog/">Blog</a><a href="https://twitter.com/nanovideo">Twitter</a><a href="https://www.facebook.com/nanocosmos.net/">Facebook</a><a href="https://www.linkedin.com/company/nanocosmos-gmbh">LinkedIn</a><a href="https://github.com/nanocosmos/docs">GitHub</a><a class="github-button" href="https://github.com/nanocosmos/docs" data-icon="octicon-star" data-count-href="/nanocosmos/docs/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://nanocosmos.de/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/footer_logo.png" alt="nanocosmos GmbH" width="170" height="45"/></a><section class="copyright">Copyright © 2021 nanocosmos GmbH - doc version Thu Feb 25 2021 12:18:36 GMT+0000 (Coordinated Universal Time)</section></footer></div></body></html>