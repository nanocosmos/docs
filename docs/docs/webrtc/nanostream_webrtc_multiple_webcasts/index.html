<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Multiple Webcasts · nanocosmos Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Multiple Webcasts can be started from a single browser tab.&lt;br&gt;"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Multiple Webcasts · nanocosmos Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://docs.nanocosmos.de/"/><meta property="og:description" content="Multiple Webcasts can be started from a single browser tab.&lt;br&gt;"/><meta property="og:image" content="https://docs.nanocosmos.de/img/docusaurus.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://docs.nanocosmos.de/img/docusaurus.png"/><link rel="shortcut icon" href="/img/favicon_nano.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-552140-1', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/js/search.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/nanocosmos_header_logo.png" alt="nanocosmos Documentation"/><h2 class="headerTitleWithLogo">nanocosmos Documentation</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/docs/cloud/cloud_overview" target="_self">nanoStream Cloud</a></li><li class=""><a href="/docs/nanoplayer/nanoplayer_introduction" target="_self">H5Live Player</a></li><li class="siteNavGroupActive"><a href="/docs/webrtc/nanostream_webrtc_introduction" target="_self">nanoStream Webcaster</a></li><li class=""><a href="/docs/nanostream/nanostream" target="_self">nanoStream Apps and SDKs</a></li><li class=""><a href="/docs/samples/samples" target="_self">Samples</a></li><li class=""><a href="/docs/faq/faq_streaming" target="_self">FAQ</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Features</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">nanoStream Webcaster</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/webrtc/nanostream_webrtc_introduction">Introduction</a></li><li class="navListItem"><a class="navItem" href="/docs/webrtc/nanostream_webrtc_getting_started">Getting started</a></li><li class="navListItem"><a class="navItem" href="/docs/webrtc/nanostream_webrtc_demos">Browser Demos</a></li><li class="navListItem"><a class="navItem" href="/docs/webrtc/nanostream_webrtc_support">Support</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Features</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/webrtc/nanostream_webrtc_screen_sharing">Screen Sharing</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/webrtc/nanostream_webrtc_multiple_webcasts">Multiple Webcasts</a></li><li class="navListItem"><a class="navItem" href="/docs/webrtc/nanostream_webrtc_quality">Quality Settings</a></li><li class="navListItem"><a class="navItem" href="/docs/webrtc/nanostream_webrtc_device_selection">Device Selection</a></li><li class="navListItem"><a class="navItem" href="/docs/webrtc/nanostream_webrtc_audio_video_only">Audio- / Video-Only</a></li><li class="navListItem"><a class="navItem" href="/docs/webrtc/nanostream_webrtc_speech_music">Speech / Music Streaming</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">API</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/webrtc/nanostream_webrtc_api">Webcaster</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Other</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/webrtc/nanostream_webrtc_faq">FAQ</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/nanocosmos/docs/tree/master/docs/webrtc/nanostream_webrtc_multiple_webcasts.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Multiple Webcasts</h1></header><article><div><span><p>Multiple Webcasts can be started from a single browser tab.<br>
Use cases can be:</p>
<ul>
<li>broadcast multiple camera (and/or microphone) streams at once</li>
<li>broadcast a camera and a screen share stream</li>
<li>broadcast multiple audio streams</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="setup-multiple-webcasts"></a><a href="#setup-multiple-webcasts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setup Multiple Webcasts</h2>
<p>In order to set up multiple Webcasts you will have to create multiple instances of
the Webcaster API in your code. Depending on what sources you want to use for streaming,
you will set up those instances differently.</p>
<h3><a class="anchor" aria-hidden="true" id="example-camera--screen-share"></a><a href="#example-camera--screen-share" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example: Camera &amp; Screen Share</h3>
<p>What we will do in this example:</p>
<ul>
<li>create two instances of the API</li>
<li>register required event handlers</li>
<li>start two previews, one for camera, one for screen share</li>
<li>start each Webcast, once the regarding preview has succeeded</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="1-create-api-instances"></a><a href="#1-create-api-instances" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1) Create API instances</h4>
<p>Create two instances of the API, one for camera, one for screen share.</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// we will broadcast a camera with the first instance</span>
<span class="hljs-keyword">var</span> camUser = <span class="hljs-keyword">new</span> <span class="hljs-built_in">window</span>.nanowebrtc.user();

<span class="hljs-comment">// we will broadcast a screen share with the second instance</span>
<span class="hljs-keyword">var</span> screenUser = <span class="hljs-keyword">new</span> <span class="hljs-built_in">window</span>.nanowebrtc.user();
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="2-starting-the-previews"></a><a href="#2-starting-the-previews" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2) Starting the previews</h4>
<p>We have to start the previews after the device lists have been emitted.<br>
Therefore, we start the previews within <a href="../nanostream_webrtc_api/#RtcUser+event_ReceivedDeviceList">ReceivedDeviceList</a> event listeners for both API instances.<br>
Requesting devices will be done in the next step.</p>
<pre><code class="hljs css language-js">
camUser.on(<span class="hljs-string">'ReceivedDeviceList'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
  <span class="hljs-comment">// we received the device list, now we start a preview of the first camera in the list</span>

  <span class="hljs-keyword">var</span> cameraConfig = {
    <span class="hljs-attr">source</span>: <span class="hljs-string">'camera'</span>,  
    <span class="hljs-attr">device</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">width</span>: <span class="hljs-number">1280</span>,
    <span class="hljs-attr">height</span>: <span class="hljs-number">720</span>,
    <span class="hljs-attr">framerate</span>: <span class="hljs-number">30</span>
  };

  <span class="hljs-keyword">var</span> audioDeviceConfig = {
    <span class="hljs-attr">device</span>: <span class="hljs-number">0</span> <span class="hljs-comment">// choose first audio device found</span>
  };
  
  <span class="hljs-comment">// preview camera in &lt;video id="video-local-camera"&gt; tag</span>
  <span class="hljs-keyword">var</span> videoElementCamera = <span class="hljs-string">'video-local-camera'</span>;

  camUser.startPreview({
    <span class="hljs-attr">videoDeviceConfig</span>: cameraConfig,
    <span class="hljs-attr">audioDeviceConfig</span>: audioDeviceConfig,
    <span class="hljs-attr">elementId</span>: videoElementCamera
  });

});

screenUser.on(<span class="hljs-string">'ReceivedDeviceList'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
  <span class="hljs-comment">// we received the device list, now we start a preview of the screen</span>

  <span class="hljs-keyword">var</span> screenConfig = {
    <span class="hljs-attr">source</span>: <span class="hljs-string">'screen'</span>,   
    <span class="hljs-attr">width</span>: <span class="hljs-number">1920</span>,
    <span class="hljs-attr">height</span>: <span class="hljs-number">1080</span>,
    <span class="hljs-attr">framerate</span>: <span class="hljs-number">5</span>
  };

  <span class="hljs-keyword">var</span> audioDeviceConfig = {
    <span class="hljs-attr">device</span>: <span class="hljs-number">0</span> <span class="hljs-comment">// choose first audio device found</span>
  };

  <span class="hljs-comment">// preview screen share in &lt;video id="video-local-screen"&gt; tag</span>
  <span class="hljs-keyword">var</span> videoElementScreen = <span class="hljs-string">'video-local-screen'</span>;

  screenUser.startPreview({
    <span class="hljs-attr">videoDeviceConfig</span>: screenConfig,
    <span class="hljs-attr">audioDeviceConfig</span>: audioDeviceConfig,
    <span class="hljs-attr">elementId</span>: videoElementScreen
  });

});

</code></pre>
<h4><a class="anchor" aria-hidden="true" id="3-start-both-workflows"></a><a href="#3-start-both-workflows" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3) Start both workflows</h4>
<p>We will now:</p>
<ul>
<li>sign in to the server</li>
<li>request the device lists for both instances</li>
<li>start the webcasts once we have a preview (prepared in last step)</li>
</ul>
<p>After we signed in successfully, we can call <a href="../nanostream_webrtc_api/#getdevices">getDevices()</a>,<br>
this will emit the <a href="../nanostream_webrtc_api/#RtcUser+event_ReceivedDeviceList">ReceivedDeviceList</a> event when succeeding.<br>
In this example we simply start the broadcasts immediately once the <a href="../nanostream_webrtc_api/#RtcUser+event_StartPreviewSuccess">StartPreviewSuccess()</a> events have been fired.</p>
<pre><code class="hljs css language-js">camUser.on(<span class="hljs-string">'SignInSuccess'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
  camUser.getDevices(); <span class="hljs-comment">// will fire 'ReceivedDeviceList' for the camUser</span>
});

screenUser.on(<span class="hljs-string">'SignInSuccess'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
  screenUser.getDevices(); <span class="hljs-comment">// will fire 'ReceivedDeviceList' for the screenUser</span>
});

camUser.on(<span class="hljs-string">'StartPreviewSuccess'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
  camUser.startBroadcast({
      <span class="hljs-attr">transcodingTargets</span>: {
        <span class="hljs-attr">output</span>: streamUrl1,
        <span class="hljs-attr">streamname</span>: streamName1,
      }
    }
});

screenUser.on(<span class="hljs-string">'StartPreviewSuccess'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
  screenUser.startBroadcast({
      <span class="hljs-attr">transcodingTargets</span>: {
        <span class="hljs-attr">output</span>: streamUrl2,
        <span class="hljs-attr">streamname</span>: streamName2,
      }
    }
});

<span class="hljs-keyword">var</span> signInConfig = {
   <span class="hljs-attr">server</span>: config.webrtc.server, <span class="hljs-comment">// do not change the default</span>
   <span class="hljs-attr">bintuApiKey</span>: bintuApiKey <span class="hljs-comment">// your api key</span>
};

<span class="hljs-comment">// on success, both</span>
camUser.signIn(signInConfig);
screenUser.signIn(signInConfig);
</code></pre>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 1/28/2021</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/webrtc/nanostream_webrtc_screen_sharing"><span class="arrow-prev">← </span><span>Screen Sharing</span></a><a class="docs-next button" href="/docs/webrtc/nanostream_webrtc_metrics"><span>Next</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#setup-multiple-webcasts">Setup Multiple Webcasts</a><ul class="toc-headings"><li><a href="#example-camera--screen-share">Example: Camera &amp; Screen Share</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><div><h5>Contact</h5><a href="https://www.nanocosmos.de/">Homepage</a><a href="https://www.nanocosmos.de/contact">Contact</a><a href="https://www.nanocosmos.de/support">Support</a><a href="https://www.nanocosmos.de/terms">Legal Terms</a></div><div><h5>Products</h5><a href="https://www.nanocosmos.de/cloud">Nanostream Cloud with Bintu.Live</a><a href="https://www.nanocosmos.de/h5live">H5Live Low Latency HTML5-Player</a><a href="https://www.nanocosmos.de/webrtc">nanoStream Webcaster</a><a href="https://www.nanocosmos.de/#nanostream">Nanostream Apps and SDK</a></div><div><h5>More</h5><a href="https://www.nanocosmos.de/blog/">Blog</a><a href="https://twitter.com/nanovideo">Twitter</a><a href="https://www.facebook.com/nanocosmos.net/">Facebook</a><a href="https://www.linkedin.com/company/nanocosmos-gmbh">LinkedIn</a><a href="https://github.com/nanocosmos/docs">GitHub</a><a class="github-button" href="https://github.com/nanocosmos/docs" data-icon="octicon-star" data-count-href="/nanocosmos/docs/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://nanocosmos.de/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/footer_logo.png" alt="nanocosmos GmbH" width="170" height="45"/></a><section class="copyright">Copyright © 2021 nanocosmos GmbH - doc version Thu Jan 28 2021 19:36:47 GMT+0000 (Coordinated Universal Time)</section></footer></div></body></html>